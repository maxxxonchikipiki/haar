![Workflow Status](https://github.com/maxxxonchikipiki/haar/actions/workflows/classroom.yml/badge.svg)
# Признаки Хаара

Признаки Хаара — признаки цифрового изображения, используемые в распознавании образов. Использовались в первом детекторе лиц, работающем в реальном времени.

Признак Хаара состоит из смежных прямоугольных областей. Они позиционируются на изображении, далее суммируются интенсивности пикселей в областях, после чего вычисляется разность между суммами. Эта разность и будет значением определенного признака, определенного размера, определенным образом спозиционированного на изображении.

Необходимо написать программу, которая для заданного изображения будет вычислять суммы интенсивностей пикселей в прямоугольных областях.

Имя файла с изображением и файла с описанием прямоугольников задаются в командной строке. Например,
```
./haar image.img boxes.txt
```

# Формат файла с изображением
Для хранения изображений в оттенках серого цвета используется формат похожий на формат PGM (Portable GrayMap) в двоичном виде.
* Первые 4 байта хранят ширину (width) и высоту (height) изображения — два беззнаковых 16-битных целых числа.
* Следующие width*height байт хранят построчно изображение (по одному байту на пиксел). Интенсивность каждого пиксела беззнаковое 8-битное целое число (то есть число от 0 до 255).

# Формат файла с описанием прямоугольников

* Текстовый файл.
* В первой строке целое число — количество прямоугольников (N).
* Далее N строк c 4 целами числами `x1 y1 x2 y2`
    * `x1, y1` — координаты верхнего левого угла прямоугольника (x1 — номер столбца, y1 — номер строки),
    * `x2, y2` — координаты нижнего правого угла прямоугольника (x2 — номер столбца, y2 — номер строки).

Верхний левый угол изображения имеет координаты `(1, 1)`, правый нижний угол изображения имеет координаты `(width, height)`.

# Вывод
Для каждого прямоугольника вывести в поток вывода в отдельной строке сумму значений интенсивностей пикселей на изображении, попадающих в заданный прямоугольник, или `wrong box`, если задан недопустимый прямоугольник.

# Пример
Пусть изображение 6x5 имеет следующие значения интенсивности пикселей:
```
0 1 2 3 4 5
1 2 3 4 5 6
2 3 4 5 6 7
3 4 5 6 7 8
4 5 6 7 8 9
```
Файл с описанием прямоугольников:
```
6
1 1 6 5
1 1 3 2
3 3 3 3
1 1 2 5
5 5 1 1
1 1 8 5
```
Вывод в консоль:
```
135
9
4
25
wrong box
wrong box
```

## Требования
Программа не должна использовать контейнеры STL (std::vector, std::string и т. д.). 

## Примечание
Рекомендуется познакомиться с префиксными суммами и summed-area table.
